# Importing the required libraries and packages
import numpy as np
from scipy import stats

# Defining two random distributions
# Sample Size
N = 10

# Gaussian distributed data with mean = 2 and variance = 1
x = np.random.randn(N) + 2

# Gaussian distributed data with mean = 0 and variance = 1
y = np.random.randn(N)

# Calculating the variance (sample variance)
var_x = x.var(ddof=1)
var_y = y.var(ddof=1)

# Pooled Standard Deviation
SD = np.sqrt((var_x + var_y) / 2)

print("Standard Deviation =", SD)

# Calculating the t-statistic
tval = (x.mean() - y.mean()) / (SD * np.sqrt(2 / N))

# Degrees of freedom
dof = 2 * N - 2

# p-value (two-tailed)
pval = 1 - stats.t.cdf(tval, df=dof)

print("t =", tval)
print("p =", 2 * pval)

# Cross-check using SciPy's built-in function
tval2, pval2 = stats.ttest_ind(x, y)
print("t =", tval2)
print("p =", pval2)
